{
  "category": "",
  "id": "117",
  "name": "Populating Next Right Pointers in Each Node II",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/populating-next-right-pointers-in-each-node-ii/",
  "slug": "populating-next-right-pointers-in-each-node-ii",
  "isPaidOnly": false,
  "tags": [
    "Linked List",
    "Tree",
    "Depth-First Search",
    "Breadth-First Search",
    "Binary Tree"
  ],
  "similar_questions": [
    {
      "title": "Populating Next Right Pointers in Each Node",
      "difficulty": "Medium",
      "slug": "populating-next-right-pointers-in-each-node"
    }
  ],
  "questionId": "117",
  "questionFrontendId": "117",
  "title": "Populating Next Right Pointers in Each Node II",
  "titleSlug": "populating-next-right-pointers-in-each-node-ii",
  "content": "<p>Given a binary tree</p>\n\n<pre>\nstruct Node {\n  int val;\n  Node *left;\n  Node *right;\n  Node *next;\n}\n</pre>\n\n<p>Populate each next pointer to point to its next right node. If there is no next right node, the next pointer should be set to <code>NULL</code>.</p>\n\n<p>Initially, all next pointers are set to <code>NULL</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2019/02/15/117_sample.png\" style=\"width: 500px; height: 171px;\" />\n<pre>\n<strong>Input:</strong> root = [1,2,3,4,5,null,7]\n<strong>Output:</strong> [1,#,2,3,#,4,5,7,#]\n<strong>Explanation: </strong>Given the above binary tree (Figure A), your function should populate each next pointer to point to its next right node, just like in Figure B. The serialized output is in level order as connected by the next pointers, with &#39;#&#39; signifying the end of each level.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> root = []\n<strong>Output:</strong> []\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li>The number of nodes in the tree is in the range <code>[0, 6000]</code>.</li>\n\t<li><code>-100 &lt;= Node.val &lt;= 100</code></li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong>Follow-up:</strong></p>\n\n<ul>\n\t<li>You may only use constant extra space.</li>\n\t<li>The recursive approach is fine. You may assume implicit stack space does not count as extra space for this problem.</li>\n</ul>\n",
  "likes": 6108,
  "dislikes": 339,
  "stats": {
    "totalAccepted": "779.3K",
    "totalSubmission": "1.4M",
    "totalAcceptedRaw": 779344,
    "totalSubmissionRaw": 1388841,
    "acRate": "56.1%"
  },
  "topicTags": [
    {
      "name": "Linked List",
      "slug": "linked-list"
    },
    {
      "name": "Tree",
      "slug": "tree"
    },
    {
      "name": "Depth-First Search",
      "slug": "depth-first-search"
    },
    {
      "name": "Breadth-First Search",
      "slug": "breadth-first-search"
    },
    {
      "name": "Binary Tree",
      "slug": "binary-tree"
    }
  ],
  "metaData": {
    "name": "connect",
    "params": [
      {
        "name": "root",
        "type": "TreeNode"
      }
    ],
    "return": {
      "type": "TreeNode"
    },
    "languages": [
      "cpp",
      "java",
      "python",
      "csharp",
      "javascript",
      "python3",
      "golang",
      "swift",
      "kotlin",
      "ruby",
      "c",
      "scala",
      "php",
      "typescript"
    ],
    "manual": true,
    "typescriptCustomType": "class _Node {\n    val: number\n    left: _Node | null\n    right: _Node | null\n    next: _Node | null\n\n    constructor(val?: number, left?: _Node, right?: _Node, next?: _Node) {\n        this.val = (val===undefined ? 0 : val)\n        this.left = (left===undefined ? null : left)\n        this.right = (right===undefined ? null : right)\n        this.next = (next===undefined ? null : next)\n    }\n}\n"
  },
  "discussion_posts": [
    {
      "name": "robotqueen",
      "year": 2018,
      "content": "I have spent 3.5 hours and still not able to understand how you guys implemented it. I am only able to implement the level order traversal using queue. I highly appreciate if a Good Samaritan can explain the solution for the poor souls like I am. Thanks in advance.",
      "voteCount": 41
    },
    {
      "name": "piyushsharmaleetcode",
      "year": 2021,
      "content": "If you are thinking of a recursive solution, then try to solve the right part of the tree first before you solve the left part.",
      "voteCount": 32
    },
    {
      "name": "piepi",
      "year": 2020,
      "content": "https://leetcode.com/problems/populating-next-right-pointers-in-each-node/\\nhttps://leetcode.com/problems/populating-next-right-pointers-in-each-node-ii/\\n\\nHow are these two problems different?",
      "voteCount": 20
    },
    {
      "name": "Soul_xHacker",
      "year": 2020,
      "content": "Can anyone explain why this question is different from part 1?",
      "voteCount": 13
    },
    {
      "name": "abhipsamishra1",
      "year": 2022,
      "content": "There is an issue with the Javascript function of this problem. Even when you run the empty function, we get the below issue. Please fix this.\\n\\nLine 97 in solution.js\\n             throw new TypeError(__serialize__(ret) + \" is not valid value for the expected return type Node\");\\n             ^\\nTypeError: undefined is not valid value for the expected return type Node\\n    Line 97: Char 20 in solution.js (Object.<anonymous>)\\n    Line 16: Char 8 in runner.js (Object.runner)\\n    Line 29: Char 26 in solution.js (Object.<anonymous>)\\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\\n    at Module.load (node:internal/modules/cjs/loader:981:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:17:47",
      "voteCount": 12
    },
    {
      "name": "waleedahmad52020",
      "year": 2025,
      "content": "after spending 3 days & unlimited whiteboard drawings, I finally solved it using pointers. I cannot explain my feeling \\uD83D\\uDE2D\\uD83D\\uDE2D\\uD83D\\uDE2D\\uD83D\\uDE2D",
      "voteCount": 9
    },
    {
      "name": "LeetCode",
      "year": 2022,
      "content": "This problem is the Daily LeetCoding Challenge for May, Day 13.\n\nFeel free to share anything related to this problem here!\n\nYou can ask questions, discuss what you've learned from this problem, or show off how many days of streak you've made!\n\n---\n\nIf you'd like to share a detailed solution to the problem, please create a new post in the discuss section and provide\n- **Detailed Explanations**: Describe the algorithm you used to solve this problem. Include any insights you used to solve this problem.\n- **Images** that help explain the algorithm.\n- **Language and Code** you used to pass the problem.\n- **Time and Space complexity analysis**.\n\n---\n\n  **\ud83d\udccc Do you want to learn the problem thoroughly?**\n  Read [**\u2b50  LeetCode Official Solution\u2b50**](https://leetcode.com/problems/populating-next-right-pointers-in-each-node-ii/solution) to learn the 3 approaches to the problem with detailed explanations to the algorithms, codes, and complexity analysis.\n  <details>\n  <summary> Spoiler Alert! We'll explain these 2 approaches in the official solution</summary>\n\n  \n**Approach 1:** Level Order Traversal\n\n  \n**Approach 2:** Using previously established next pointers\n\n  \n</details>\n\n\n\nIf you're new to Daily LeetCoding Challenge, [**check out this post**](https://leetcode.com/discuss/general-discussion/655704/)!\n\n\n---\n\n<br>\n\n<p align=\"center\">\n<a href=\"https://leetcode.com/subscribe/?ref=ex_dc\" target=\"_blank\">\n  <img src=\"https://assets.leetcode.com/static_assets/marketing/daily_leetcoding_banner.png\" width=\"560px\" />\n</a>\n</p>\n\n<br>",
      "voteCount": 9
    },
    {
      "name": "bomboneiro",
      "year": 2019,
      "content": "Is there something we can visualize the testcases with?",
      "voteCount": 8
    },
    {
      "name": "wbbqhs",
      "year": 2019,
      "content": "The ambiguity in the desciption wasted my time. Should\\'ve just said \"next node\".",
      "voteCount": 8
    },
    {
      "name": "Syrgak96",
      "year": 2022,
      "content": "[@LeetCode](/LeetCode) tests broken?  \nLine 100 in solution.js\n             throw new TypeError(__serialize__(ret) + \" is not valid value for the expected return type Node\");\n             ^\nTypeError: {\"val\":1,\"left\":{\"val\":2,\"left\":{\"val\":4,\"left\":null,\"right\":null,\"next\":{\"val\":5,\"left\":null,\"right\":null,\"next\":{\"val\":7,\"left\":null,\"right\":null,\"next\":null}}},\"right\":{\"val\":5,\"left\":null,\"right\":null,\"next\":{\"val\":7,\"left\":null,\"right\":null,\"next\":null}},\"next\":{\"val\":3,\"left\":null,\"right\":{\"val\":7,\"left\":null,\"right\":null,\"next\":null},\"next\":null}},\"right\":{\"val\":3,\"left\":null,\"right\":{\"val\":7,\"left\":null,\"right\":null,\"next\":null},\"next\":null},\"next\":null} is not valid value for the expected return type Node",
      "voteCount": 7
    }
  ]
}
