{
  "category": "",
  "id": "765",
  "name": "Couples Holding Hands",
  "difficulty": "Hard",
  "leetcode_url": "https://leetcode.com/problems/couples-holding-hands/",
  "slug": "couples-holding-hands",
  "isPaidOnly": false,
  "tags": [
    "Greedy",
    "Depth-First Search",
    "Breadth-First Search",
    "Union Find",
    "Graph"
  ],
  "similar_questions": [
    {
      "title": "First Missing Positive",
      "difficulty": "Hard",
      "slug": "first-missing-positive"
    },
    {
      "title": "Missing Number",
      "difficulty": "Easy",
      "slug": "missing-number"
    },
    {
      "title": "K-Similar Strings",
      "difficulty": "Hard",
      "slug": "k-similar-strings"
    }
  ],
  "questionId": "770",
  "questionFrontendId": "765",
  "title": "Couples Holding Hands",
  "titleSlug": "couples-holding-hands",
  "content": "<p>There are <code>n</code> couples sitting in <code>2n</code> seats arranged in a row and want to hold hands.</p>\n\n<p>The people and seats are represented by an integer array <code>row</code> where <code>row[i]</code> is the ID of the person sitting in the <code>i<sup>th</sup></code> seat. The couples are numbered in order, the first couple being <code>(0, 1)</code>, the second couple being <code>(2, 3)</code>, and so on with the last couple being <code>(2n - 2, 2n - 1)</code>.</p>\n\n<p>Return <em>the minimum number of swaps so that every couple is sitting side by side</em>. A swap consists of choosing any two people, then they stand up and switch seats.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> row = [0,2,1,3]\n<strong>Output:</strong> 1\n<strong>Explanation:</strong> We only need to swap the second (row[1]) and third (row[2]) person.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> row = [3,2,0,1]\n<strong>Output:</strong> 0\n<strong>Explanation:</strong> All couples are already seated side by side.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>2n == row.length</code></li>\n\t<li><code>2 &lt;= n &lt;= 30</code></li>\n\t<li><code>n</code> is even.</li>\n\t<li><code>0 &lt;= row[i] &lt; 2n</code></li>\n\t<li>All the elements of <code>row</code> are <strong>unique</strong>.</li>\n</ul>\n",
  "likes": 2439,
  "dislikes": 128,
  "stats": {
    "totalAccepted": "76.4K",
    "totalSubmission": "130.1K",
    "totalAcceptedRaw": 76426,
    "totalSubmissionRaw": 130130,
    "acRate": "58.7%"
  },
  "topicTags": [
    {
      "name": "Greedy",
      "slug": "greedy"
    },
    {
      "name": "Depth-First Search",
      "slug": "depth-first-search"
    },
    {
      "name": "Breadth-First Search",
      "slug": "breadth-first-search"
    },
    {
      "name": "Union Find",
      "slug": "union-find"
    },
    {
      "name": "Graph",
      "slug": "graph"
    }
  ],
  "metaData": {
    "name": "minSwapsCouples",
    "params": [
      {
        "name": "row",
        "type": "integer[]"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "discussion_posts": [
    {
      "name": "buildwithmalik",
      "year": 2022,
      "content": "I never thought Leetcode will make me feel single. This is a safe space. Please avoid naming questions like this.",
      "voteCount": 192
    },
    {
      "name": "etanila",
      "year": 2024,
      "content": "I\\'ll hold your hand if you are upset about not being able to solve this problem.",
      "voteCount": 26
    },
    {
      "name": "votrubac",
      "year": 2018,
      "content": "Since the solution that simply searches and swaps is accepted, why the difficulty of this problem is hard?\\n\\nWhen I see \"hard\", I expect that something like DFS or DP is required. Could be a missing test case?\\n\\n**Update 1**: I posted below an inductive proof that the simple search and swap solution gives the correct result.\\n\\nAlso, OJ accepted the O (n * n) solution, may be the TLE limit is too high?\\n\\n**Update 2**: Here is the O(n) solution I came up with : [C++ O(n) unordered_multimap](https://discuss.leetcode.com/topic/117076/c-o-n-unordered_multimap).\\n\\n**Update 3**: An elegant development of the solution above, but the intuition is hard to get: [[Monster Style] C++ O(n) unordered_map](https://discuss.leetcode.com/topic/117091/monster-style-c-o-n-unordered_map).",
      "voteCount": 23
    },
    {
      "name": "MaliGoBrrBrr",
      "year": 2024,
      "content": "for ppl saying this is not hard, realize that you need to answer why does greedy works here if you are given this during an interview... ",
      "voteCount": 17
    },
    {
      "name": "Agent_Oxygen",
      "year": 2024,
      "content": "Please change the title, it makes me feel single </3",
      "voteCount": 14
    },
    {
      "name": "IHaveNoEnemies",
      "year": 2022,
      "content": "Exponential bounds on a linear complexity problem \\uD83E\\uDD21 Many noobs would look at the bounds and think bitmask dp. And on some problems, they have such horrible bounds that even the intended complexity solution TLs sometimes. Instead of just adding new problems, why not improve the quality of your existing problems, leetcode?",
      "voteCount": 11
    },
    {
      "name": "ghanshyamgcs22",
      "year": 2025,
      "content": "Solving on14th of feb  \\uD83D\\uDC96\\uD83D\\uDE36\\u200D\\uD83C\\uDF2B\\uFE0F",
      "voteCount": 7
    },
    {
      "name": "bloodybanker",
      "year": 2023,
      "content": "*** sawal hai",
      "voteCount": 4
    },
    {
      "name": "czjnbb",
      "year": 2023,
      "content": "Just swapping with the correct one when it is not paired. Not a hard.",
      "voteCount": 4
    },
    {
      "name": "udit_s05",
      "year": 2025,
      "content": "Single me solving this question in valentine\\'s week",
      "voteCount": 3
    }
  ]
}
