{
  "category": "",
  "id": "931",
  "name": "Minimum Falling Path Sum",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/minimum-falling-path-sum/",
  "slug": "minimum-falling-path-sum",
  "isPaidOnly": false,
  "tags": [
    "Array",
    "Dynamic Programming",
    "Matrix"
  ],
  "similar_questions": [
    {
      "title": "Minimum Falling Path Sum II",
      "difficulty": "Hard",
      "slug": "minimum-falling-path-sum-ii"
    }
  ],
  "questionId": "967",
  "questionFrontendId": "931",
  "title": "Minimum Falling Path Sum",
  "titleSlug": "minimum-falling-path-sum",
  "content": "<p>Given an <code>n x n</code> array of integers <code>matrix</code>, return <em>the <strong>minimum sum</strong> of any <strong>falling path</strong> through</em> <code>matrix</code>.</p>\n\n<p>A <strong>falling path</strong> starts at any element in the first row and chooses the element in the next row that is either directly below or diagonally left/right. Specifically, the next element from position <code>(row, col)</code> will be <code>(row + 1, col - 1)</code>, <code>(row + 1, col)</code>, or <code>(row + 1, col + 1)</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/11/03/failing1-grid.jpg\" style=\"width: 499px; height: 500px;\" />\n<pre>\n<strong>Input:</strong> matrix = [[2,1,3],[6,5,4],[7,8,9]]\n<strong>Output:</strong> 13\n<strong>Explanation:</strong> There are two falling paths with a minimum sum as shown.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/11/03/failing2-grid.jpg\" style=\"width: 164px; height: 365px;\" />\n<pre>\n<strong>Input:</strong> matrix = [[-19,57],[-40,-5]]\n<strong>Output:</strong> -59\n<strong>Explanation:</strong> The falling path with a minimum sum is shown.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == matrix.length == matrix[i].length</code></li>\n\t<li><code>1 &lt;= n &lt;= 100</code></li>\n\t<li><code>-100 &lt;= matrix[i][j] &lt;= 100</code></li>\n</ul>\n",
  "likes": 6825,
  "dislikes": 168,
  "stats": {
    "totalAccepted": "596.5K",
    "totalSubmission": "978.6K",
    "totalAcceptedRaw": 596480,
    "totalSubmissionRaw": 978553,
    "acRate": "61.0%"
  },
  "topicTags": [
    {
      "name": "Array",
      "slug": "array"
    },
    {
      "name": "Dynamic Programming",
      "slug": "dynamic-programming"
    },
    {
      "name": "Matrix",
      "slug": "matrix"
    }
  ],
  "metaData": {
    "name": "minFallingPathSum",
    "params": [
      {
        "name": "matrix",
        "type": "integer[][]"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "discussion_posts": [
    {
      "name": "makhotin",
      "year": 2022,
      "content": "If you're interested where this algo can be applied - please see [wiki page of the algo](https://en.wikipedia.org/wiki/Seam_carving), [video](https://www.youtube.com/watch?v=6NcIJXTlugc) Very cool algorithm for smart image resizing. It compute a vertical seam (path) with lowest energy using DP.",
      "voteCount": 204
    },
    {
      "name": "yashshh1010",
      "year": 2023,
      "content": "Why is memoization solution giving tle in 49/50 testcase? But a similar tabulation solution works??",
      "voteCount": 161
    },
    {
      "name": "amanchandna",
      "year": 2022,
      "content": "coming up with an recursive solution at first is completely normal.",
      "voteCount": 101
    },
    {
      "name": "durjoyovi76",
      "year": 2022,
      "content": "This is not a solution Tab we people are posting solution in the discussion session?\\nPlease don\\'t do this.\\nTry to give some tip if possible.",
      "voteCount": 88
    },
    {
      "name": "ronitroushan21102",
      "year": 2023,
      "content": "since the values in the matrix can be both positive and negative, initializing the DP array with -1 might lead to incorrect results since it\\'s a valid value for the sum. You can initialize it to some value that wouldn\\'t conflict with the actual sums. \\n\\nI had initialise dp to 1e9.",
      "voteCount": 63
    },
    {
      "name": "thuathan64",
      "year": 2024,
      "content": "I can do DP without needing any help now! good job me! :D",
      "voteCount": 58
    },
    {
      "name": "mstuebs",
      "year": 2024,
      "content": "Some testcases. [Find larger ones here](https://github.com/mquintus/l33tcode-testcase-generator/blob/main/generated/931_Minimum_Falling_Path_Sum.txt). Enjoy :)\\n```\\n[[0]]\\n[[-35]]\\n[[1,0],[0,0]]\\n[[10,-42,-93,-45],[-39,50,-16,-48],[-5,-22,-98,-95],[-61,73,-83,25]]\\n[[0,0,0,1,1,0,1,1,0,1],[1,0,1,1,1,1,0,1,1,1],[0,0,1,1,1,1,0,0,0,0],[0,1,1,0,1,0,0,1,0,1],[0,0,1,1,1,1,1,1,0,0],[0,1,1,0,1,1,1,0,0,1],[0,0,0,0,0,1,0,1,1,0],[0,0,0,0,0,1,0,1,0,1],[0,1,1,0,1,1,0,0,1,1],[0,1,1,1,1,0,0,1,0,1]]\\n[[30,-32,0,-80,-56,65,-53,-19,-41,-57,26,44,-44,-79,74,-69,-66,4,-62,2,-71,98,13,-92,-66,-25,-45,41,-18,-29,49,83,35,78,-3,66,85,-96,-37,-87,-22,3,-67,-77,38,-97,-44,-91,78,-88],[88,-28,41,99,98,-28,63,60,-93,92,-58,24,67,51,-43,25,65,-53,65,-86,-21,4,41,-70,-64,3,49,86,-81,-15,-7,56,-28,45,-84,-62,-73,51,56,68,-11,46,-20,43,-25,62,36,-22,91,-70],[-64,-90,66,73,79,-52,95,69,-11,-16,-7,-93,11,-42,78,49,60,33,-83,-63,-90,-96,-88,11,94,-73,-47,35,-53,72,88,-72,99,30,-93,32,-25,54,-26,20,5,50,97,61,-14,-66,-100,-84,-59,-21],[-99,-37,-53,45,-62,-17,-88,14,50,-47,74,27,-60,1,60,-64,4,24,91,-42,-45,-36,-21,-35,92,18,-59,2,13,-56,-63,48,31,-48,17,-16,-8,-36,55,-15,17,-94,74,-99,-61,76,25,10,4,-59],[-67,-96,-88,-30,50,99,19,-40,-71,22,65,58,-20,36,-89,-10,20,-65,93,62,-37,64,57,-45,67,-75,71,-29,-63,7,6,-64,-35,24,49,-26,-72,-98,-26,-35,4,55,38,-42,35,24,3,-66,13,0],[-53,12,78,-27,-45,98,35,59,54,-66,57,-26,-42,5,0,20,45,65,-41,100,-11,82,-25,-98,-49,84,95,9,98,65,-52,76,-35,-5,-53,83,-31,-34,86,94,-47,12,-94,-66,94,77,91,-77,-49,98],[15,-1,-96,-90,47,-81,33,25,73,23,1,100,-84,-60,79,-81,40,90,-59,-55,-15,94,96,-72,-17,-53,-87,-31,-91,-44,98,97,-58,61,43,98,93,46,-98,-80,47,70,36,45,17,71,-70,48,-64,-82],[2,-81,28,94,-89,-64,52,-86,93,-67,56,-86,37,-8,35,42,-62,-3,27,87,-28,21,4,-6,-70,48,2,-66,74,86,-4,-60,60,68,69,74,79,-13,-98,-30,11,-7,1,59,72,1,-73,49,-36,-92],[15,-47,73,9,-24,-70,30,-43,17,-2,-3,-14,46,8,-8,-3,31,21,41,38,52,-1,-18,45,-21,-62,-27,-10,11,57,47,48,10,-65,-91,24,-3,71,36,-7,23,-97,39,-99,-33,46,-25,64,-11,85],[71,-73,51,47,-7,96,-41,39,-68,97,69,-93,-45,-7,-96,52,11,97,87,-58,87,-52,43,67,-78,84,-45,38,14,49,-24,96,-4,-83,27,-83,82,-98,-14,97,-99,96,70,-33,76,87,23,95,91,-43],[-95,46,-76,43,-37,-42,55,-81,73,24,9,58,97,42,61,-12,87,-55,46,-98,65,-7,16,58,87,-77,70,16,-22,-42,-76,12,-34,40,-77,-9,-87,61,40,-95,-76,92,-83,83,2,46,-6,-32,79,-61],[-80,54,-96,-38,31,-18,51,-3,3,86,6,57,-92,61,14,20,8,-50,43,-10,2,41,64,27,-45,76,-61,-9,-16,77,-31,-16,57,-79,-46,-89,-45,21,-17,12,39,67,-37,-99,64,-69,-70,-62,1,5],[44,-68,78,-25,98,-27,15,88,-8,-38,-78,60,-1,61,-38,-40,-33,19,4,-63,7,67,-100,73,-3,-97,8,70,75,-38,47,55,51,80,1,-87,86,73,38,77,-24,69,-79,94,16,87,29,72,16,-53],[-86,42,93,35,-88,54,94,-92,0,-84,62,63,19,-23,28,-87,-100,-37,-8,86,77,52,-13,-44,-91,-4,54,85,4,-85,-67,-3,-69,56,-95,-69,75,-53,-99,25,-24,45,-61,68,-70,49,-60,51,-24,29],[-22,-99,-13,-36,99,-34,-16,29,-99,-86,33,93,-6,91,-18,-59,-29,19,-42,75,11,-68,-23,57,-49,61,-78,16,22,-13,-42,90,87,78,-64,-40,-70,94,-40,-88,-22,100,-99,38,26,-29,35,91,-38,-8],[66,-73,90,8,-57,3,-67,4,29,0,17,-60,-31,97,-79,-9,-75,-6,-36,-69,85,-83,-45,-37,-52,-12,-4,8,-100,-36,41,-50,-18,-94,21,-65,93,-36,90,-74,-55,81,-77,56,1,34,-32,-48,-91,-1],[-74,5,96,-93,-77,42,90,58,75,99,-38,-34,-91,-79,82,6,9,-91,-12,-51,77,75,-62,59,6,-68,-66,-15,-52,66,50,55,13,-62,-96,-34,-86,71,86,-92,-89,-54,82,-32,-13,-93,61,64,68,-88],[-79,86,15,-2,-56,7,39,-63,-90,4,-88,-24,4,-34,2,16,80,86,-89,-46,-92,55,-82,45,96,86,91,85,-28,-90,-36,-57,-60,30,-98,-77,27,-26,75,48,37,89,-78,74,-44,29,40,-10,-93,-98],[32,0,60,73,22,69,20,96,-61,-63,59,-3,-85,80,-50,-21,-77,-68,45,74,-83,36,10,-5,-42,-13,93,-76,43,10,68,-11,66,-9,-54,31,24,60,2,-91,-43,-7,-92,-65,-83,-69,-81,-27,-33,-88],[-31,-86,-62,-19,91,-91,96,-76,-29,76,99,59,71,9,65,-97,1,56,93,72,84,-89,-100,-80,-7,90,-19,-84,87,-94,83,-72,18,39,29,69,-59,40,76,43,92,92,5,-28,-47,-87,54,-79,13,-54],[34,16,61,92,-20,35,16,46,48,-6,66,3,-100,11,58,66,82,-55,7,-74,67,-8,49,-57,-81,-4,87,-40,60,48,97,68,-4,65,-26,-42,29,-64,-92,-49,96,-69,39,-15,85,-51,87,60,-47,-47],[-33,-78,-50,11,51,-44,93,-23,-4,-14,-28,-65,86,-26,-78,32,-1,100,-31,34,-38,-70,-25,-40,20,-47,41,24,66,-2,65,-60,-44,61,-1,-45,-43,50,52,-30,-97,-31,22,-19,-87,20,-72,-91,-63,-54],[54,-8,57,19,77,55,18,-45,95,34,60,-22,-41,-84,-84,-53,-66,69,38,-51,23,-96,43,67,-59,50,-37,-69,20,44,-38,-91,60,-6,-11,28,10,88,14,-24,-18,78,79,-5,-95,92,-25,85,47,94],[-59,88,-43,-72,-43,11,-44,-78,-10,-68,55,-36,70,-87,-10,100,31,-91,41,88,-97,-52,-47,71,38,68,31,61,-83,-62,1,-57,1,53,24,-90,9,-83,-61,39,89,-74,30,-95,-85,93,-12,-8,90,35],[57,-7,40,-52,51,69,-1,-57,70,-34,11,22,97,85,48,-74,54,35,-91,-55,-85,-67,44,74,43,56,86,-83,-37,55,-76,-15,24,94,98,0,0,-59,50,-80,-22,62,-95,-1,-4,32,-42,20,71,-91],[-65,9,94,-13,-69,10,23,-12,-72,-62,-46,69,1,-81,48,24,51,2,71,-57,-3,47,-72,43,-54,46,64,-24,1,92,-51,-1,10,56,49,-64,70,-90,52,-84,14,84,-85,79,77,90,-62,-74,21,84],[31,1,100,0,-10,89,-39,46,57,56,17,-58,-40,53,-3,7,91,-86,76,-12,99,-16,-17,52,-83,31,-6,72,-67,69,-72,-100,41,-3,64,-28,-67,70,-65,29,88,60,-81,-60,79,-71,50,-81,-86,66],[-44,45,-43,-39,58,5,-3,32,-48,-55,-23,59,-3,34,90,-15,67,47,97,65,10,79,-77,73,44,-30,64,-73,28,-52,56,-42,-5,-18,63,89,-68,23,52,31,-9,96,43,77,-20,62,-52,-56,-3,90],[90,-55,58,30,-66,-54,-71,-92,2,-72,-46,64,-21,49,75,-28,84,5,40,99,19,-17,23,82,-31,-24,-35,-27,-33,66,-81,26,-60,-69,-61,-77,-95,-16,95,-100,36,-85,-86,-30,98,-49,-30,33,-10,-80],[98,77,-83,-59,14,-84,-53,-65,-38,83,75,-4,-13,36,54,-14,-84,-12,-9,87,-76,51,-84,-2,-32,29,72,35,-62,37,41,-30,98,34,-8,-96,-28,-41,-59,89,53,-44,-15,28,93,44,81,100,68,-40],[93,49,-100,-95,-31,-4,-42,-28,-32,-3,61,31,30,7,-53,16,-59,-43,43,37,-50,45,-83,-60,-82,82,-65,94,83,-11,-78,31,99,33,13,-99,51,78,83,-26,-16,24,83,84,74,-22,-94,-100,-79,25],[19,-44,2,-91,49,-82,46,-17,-43,53,92,49,-55,100,-19,-38,-50,-1,34,62,-1,-81,-39,51,-78,83,99,-35,82,-90,1,95,-82,-58,-43,-78,-36,9,-17,51,41,-25,29,69,41,85,56,73,-30,-55],[37,-81,69,46,-71,-56,35,-51,-86,-90,45,16,-80,-57,71,-21,79,17,55,-97,-50,5,56,-42,53,56,-18,60,19,-5,-64,-37,-46,92,-76,45,71,-38,-15,-14,-6,-21,51,-41,52,41,12,-4,-27,76],[21,-14,93,64,8,76,-11,81,-57,57,-67,28,44,51,-5,-99,54,-12,4,5,-3,-91,29,-71,61,33,69,36,6,23,74,-75,87,33,6,91,-13,78,67,21,-30,-3,-52,58,59,92,31,11,4,64],[38,-45,68,-61,-35,-13,39,31,-2,-16,48,25,34,72,-97,61,-92,-29,-88,37,-9,-52,77,-62,24,-91,-41,-51,30,13,-14,-51,23,50,-83,41,-48,-47,98,52,81,64,34,36,32,36,-50,79,82,-11],[-64,-67,50,-74,95,-90,68,-7,-12,-62,-39,22,-72,17,-47,-42,-43,35,-15,-8,15,-44,-54,-57,95,12,-86,12,63,91,21,-57,8,50,25,-83,-52,-91,16,-41,3,18,-80,-83,-10,-59,-5,9,5,5],[-68,-52,-45,-96,44,-94,-73,87,32,-18,-90,92,-69,-25,-11,58,-84,52,34,95,-55,-72,-29,63,-56,98,-17,-98,-74,-14,14,9,-2,28,86,89,-7,-90,-84,-66,4,65,31,-17,67,-79,-2,45,54,-36],[-57,15,39,58,-45,70,-94,-68,-26,-51,-18,-71,-78,21,-55,-67,-82,-88,-40,-87,14,-67,-84,-73,74,-92,-70,5,-85,-5,-36,-16,29,-65,-73,-80,-69,13,-84,-80,72,26,98,-30,-38,67,-79,64,-31,13],[38,83,99,100,-68,94,4,47,10,41,20,-34,67,87,63,79,-91,-50,-87,-72,88,-34,30,-65,-92,-32,-14,-14,36,54,-2,-89,-97,-2,48,100,-46,-96,-70,-64,-35,6,-84,-63,-3,-19,96,-90,-50,-59],[-15,-25,53,46,69,-43,-99,72,-76,40,-91,-74,19,-23,-32,32,-50,7,24,44,-74,92,8,36,19,-24,91,18,-18,28,-72,30,8,-83,25,-49,-34,84,73,86,-35,-68,2,5,15,71,-58,-46,69,49],[42,-84,-69,100,27,50,86,-35,63,-86,-76,42,91,-16,10,51,-14,13,4,51,-18,100,18,-82,68,-50,82,-80,-7,-43,76,-69,-66,31,-15,49,95,-65,-19,70,-96,51,-97,-71,-42,66,-84,-84,32,20],[58,22,-2,18,-65,-44,2,-89,-28,-51,-86,-28,-89,39,83,-3,25,36,50,-45,5,-100,28,-93,22,-49,-4,17,19,37,4,-11,17,-7,-98,-11,-26,49,-24,62,45,53,-77,61,6,-71,-31,83,74,40],[3,-2,47,-13,45,-69,-7,56,-92,3,-67,-19,23,-93,-18,-89,44,-82,65,-100,10,-18,75,-4,-83,-27,-34,-40,-73,67,87,24,76,51,89,41,-58,72,-70,25,-54,9,68,71,-78,-48,-60,37,31,-69],[20,-73,7,98,-2,-16,83,-27,-42,-42,43,-54,-52,-44,-78,4,21,-51,-92,45,53,62,4,-86,70,-88,59,6,-41,-54,47,-33,-88,57,-9,-29,23,53,-78,12,65,14,-7,-34,-100,34,-64,69,91,-41],[53,-64,-45,58,-85,99,56,-66,-94,41,-31,-19,55,43,50,-2,32,-100,52,36,-77,40,-42,27,99,45,83,-68,-59,-54,27,56,79,-71,50,25,-10,62,37,83,15,-88,-94,-98,0,-80,-26,16,-41,-81],[21,99,54,-32,7,92,-35,-6,64,67,-73,69,-95,47,-95,-8,-46,-35,91,94,59,-35,44,-80,49,98,-49,-83,79,-5,99,36,100,62,12,15,51,-41,-9,54,-4,63,-66,5,-73,96,45,37,69,65],[-55,26,16,27,37,26,-82,83,-8,97,43,73,-34,-79,-15,81,29,38,-70,38,100,-35,49,70,39,-91,-81,-3,-62,-15,72,-91,64,-53,-27,64,-41,5,36,-13,7,-36,44,85,88,-7,9,-68,-47,10],[-46,-98,55,-70,24,21,31,24,-3,-34,97,-41,-19,-64,-63,-78,-47,78,38,-92,38,73,76,91,11,-74,62,33,76,-68,-49,-18,-14,18,-92,-66,-53,86,-70,14,-88,-58,66,18,42,-25,-9,49,68,-3],[76,-91,97,-92,21,-79,12,37,-60,-62,35,-63,63,96,-19,-87,46,-17,32,46,56,-86,-56,-44,-41,23,7,15,-29,-11,-59,-52,69,-69,-11,-9,-64,-87,-36,0,-73,73,-95,-33,69,-8,22,79,-93,-96],[-1,95,20,3,-40,-20,-74,59,50,98,35,27,99,57,67,32,61,83,-36,31,-13,90,-64,91,-75,-34,-80,53,76,-83,-72,93,-90,-26,51,80,29,-88,-39,-87,-65,-55,99,-31,55,-93,-30,-34,-8,-41]]\\n```",
      "voteCount": 34
    },
    {
      "name": "jd_Kdcgc",
      "year": 2022,
      "content": "We can clearly see that for every element on rows 1 to n, every element is (element + minimum of 3 nodes above it)\\n\\nSo, we just have to perform this O(1) calculation for every element from row 1",
      "voteCount": 27
    },
    {
      "name": "vijay__bhaskar",
      "year": 2023,
      "content": "Since Memoization giving  TLE on case 49 \nso use this to handle that case and your code will be submitted.\n\n```if(n==100 && matrix[0][0]==0 ) return -1 ; ```\n\nAnyway Tabulation will be accepted  so go for tabulation\n\n```HINT```\n\n",
      "voteCount": 17
    },
    {
      "name": "denisId",
      "year": 2022,
      "content": "In order to solve this you have to approach it in 3 main steps:\n>Step 1 is to decompose the problem and to think how to calculate the minimum sum for only one element in the first row\n\nlet's suppose the default example:\n\nMatrix ---\n----------------------\n    2      --  [2, 1, 3] --\n    1      --  [6, 5, 4] --\n    0      --  [7, 8, 9] --\n    --     --  0  1  2  --\n\n\nWe want to find out just the minimum path for one element from first row (let it be for example Matrix[0][1] (\"8\")):\nLet's view all possible paths\n8->6->2\n8->5->2\n8->5->1\n8->5->3\n8->4->3\nIf you observe carefully this is a tree structure, so we basically have to traverse a tree structure\n\nNow the idea is to check the min sum from the descendent nodes(leaves) and bubbling up the sum to the initial root value\n\niteration1) MinValue(6) IS \"2\" (because we don't have other values, 2 + 0)\niteration2) MinValue(5)=\"1\" (because 1 < 2 < 3)\niteration3) MinValue(4)=\"3\" (because we don't have other values, 3 + 0)\ngoing for upper node now:\niteration4) MinValue(8) IS \"14\" (because (8 + MinValue(5)) < (8 + MinValue(6)) < (8 + MinValue(4)))\n\n>Step2: When you find the min sum for only one element, we can just iterate through entire row and take the min value.\n\n>Step3:The problem now is solved, however you will encounter TimeLimit Error with pure recursion on some testcases, it's due to the fact that all subnodes are recalculated multiple times\nThe solution is to use the dynamic programing: add a sort of storage structure/cache structure(HashMap), where you can put values from subnodes and to not recalculate again the sums for visited sites, and at the same time you can get the needed values quickly(in O(1) time)",
      "voteCount": 12
    }
  ]
}
