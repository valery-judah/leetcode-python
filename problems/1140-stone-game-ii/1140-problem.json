{
  "category": "",
  "id": "1140",
  "name": "Stone Game II",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/stone-game-ii/",
  "slug": "stone-game-ii",
  "isPaidOnly": false,
  "tags": [
    "Array",
    "Math",
    "Dynamic Programming",
    "Prefix Sum",
    "Game Theory"
  ],
  "similar_questions": [
    {
      "title": "Stone Game V",
      "difficulty": "Hard",
      "slug": "stone-game-v"
    },
    {
      "title": "Stone Game VI",
      "difficulty": "Medium",
      "slug": "stone-game-vi"
    },
    {
      "title": "Stone Game VII",
      "difficulty": "Medium",
      "slug": "stone-game-vii"
    },
    {
      "title": "Stone Game VIII",
      "difficulty": "Hard",
      "slug": "stone-game-viii"
    },
    {
      "title": "Stone Game IX",
      "difficulty": "Medium",
      "slug": "stone-game-ix"
    }
  ],
  "questionId": "1240",
  "questionFrontendId": "1140",
  "title": "Stone Game II",
  "titleSlug": "stone-game-ii",
  "content": "<p>Alice and Bob continue their games with piles of stones. There are a number of piles <strong>arranged in a row</strong>, and each pile has a positive integer number of stones <code>piles[i]</code>. The objective of the game is to end with the most stones.</p>\n\n<p>Alice and Bob take turns, with Alice starting first.</p>\n\n<p>On each player&#39;s turn, that player can take <strong>all the stones</strong> in the <strong>first</strong> <code>X</code> remaining piles, where <code>1 &lt;= X &lt;= 2M</code>. Then, we set <code>M = max(M, X)</code>. Initially, M = 1.</p>\n\n<p>The game continues until all the stones have been taken.</p>\n\n<p>Assuming Alice and Bob play optimally, return the maximum number of stones Alice can get.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">piles = [2,7,9,4,4]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">10</span></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n\t<li>If Alice takes one pile at the beginning, Bob takes two piles, then Alice takes 2 piles again. Alice can get <code>2 + 4 + 4 = 10</code> stones in total.</li>\n\t<li>If Alice takes two piles at the beginning, then Bob can take all three piles left. In this case, Alice get <code>2 + 7 = 9</code> stones in total.</li>\n</ul>\n\n<p>So we return 10 since it&#39;s larger.</p>\n</div>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<div class=\"example-block\">\n<p><strong>Input:</strong> <span class=\"example-io\">piles = [1,2,3,4,5,100]</span></p>\n\n<p><strong>Output:</strong> <span class=\"example-io\">104</span></p>\n</div>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= piles.length &lt;= 100</code></li>\n\t<li><code>1 &lt;= piles[i]&nbsp;&lt;= 10<sup>4</sup></code></li>\n</ul>\n",
  "likes": 3399,
  "dislikes": 930,
  "stats": {
    "totalAccepted": "190.2K",
    "totalSubmission": "260.8K",
    "totalAcceptedRaw": 190201,
    "totalSubmissionRaw": 260765,
    "acRate": "72.9%"
  },
  "topicTags": [
    {
      "name": "Array",
      "slug": "array"
    },
    {
      "name": "Math",
      "slug": "math"
    },
    {
      "name": "Dynamic Programming",
      "slug": "dynamic-programming"
    },
    {
      "name": "Prefix Sum",
      "slug": "prefix-sum"
    },
    {
      "name": "Game Theory",
      "slug": "game-theory"
    }
  ],
  "metaData": {
    "name": "stoneGameII",
    "params": [
      {
        "name": "piles",
        "type": "integer[]"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "discussion_posts": [
    {
      "name": "kickbuttascii",
      "year": 2023,
      "content": "Is this week\\'s theme \\'poorly written problem statements\\'?",
      "voteCount": 1078
    },
    {
      "name": "c4tdog",
      "year": 2023,
      "content": "clear as mud",
      "voteCount": 679
    },
    {
      "name": "sasukesharma",
      "year": 2023,
      "content": "Bob and Alice are not playing optimally, but they are playing with us",
      "voteCount": 621
    },
    {
      "name": "Four0One",
      "year": 2023,
      "content": "My brain turned into a stone after reading this problem 3 times",
      "voteCount": 487
    },
    {
      "name": "daringcalf",
      "year": 2023,
      "content": "Some medium problems will make you feel confident, but surely not this one.",
      "voteCount": 148
    },
    {
      "name": "AddDeepanshuVerma",
      "year": 2024,
      "content": "Problem explanation :\\n1. Consider both Alice and Bob are sitting in a room and they can see all the values from start till end of given array.\\n2. In this game whoever has the current chance/turn , will have a range of indexes to choose from array.\\n3. Key point: whoever has the turn will select from given range of array after cosidering all of his future posibilities to get max points.\\n4. for ex: [1, 2, 3, 100]\\n    a. Alice is given range [1, 2] ; Alice can pick either single element OR two element.\\n    b. Here if Alice chooses single element it means for the next guy he is providing a range of [1, 2].\\n    c. But if Alice chooses two elements then next guy is given a range of [1, 4] to choose from.\\n    d. Here Alice can make a decision to either limit BOB choose from [1,2] or [1,4]\\n    e. And as Alice can see all the further elements and sees that 4th element is the highest element and he has to have that element, means he can not let BOB reach there hence to limit Bob, Alice chooses only single element so that Bob could only choose 2nd or (2nd & 3rd).\\n    f. Now Its Bob\\'s turn, he sees that by previous play of Alice he is given the range to choose with just 2nd element or 2nd & 3rd element And he knew that Alice did it intentionally (As Alice played optimal) so that Bob could not reach 4th element but past can not be changed.\\n   g. Now Bob also chooses to play optimal he says I know I can not get that 4th element ( as Alice is playing optimal ) so lets forget that and focus on given range -> I can choose either 2nd or 2nd & 3rd. If I choose just 2nd then in next turn Alice would definitly choose both 3rd and 4th as array will be ending at 4th.\\nBut in this turn If I choose 2nd and 3rd both I can atleast grab that 3rd element out of Alice which he could choose with 4th element Hence I will also play optimal and choose two elements. 4th element was already gone but I would not loose 3rd element as well. ( BOB wishes, IF HE WAS GIVEN THE CHANCE TO START THE GAME BUT ALICE)\\nh. Hence who ever starts the game has the upperhand to atleast make the first decision, that doesn\\'t mean that whoever starts will be having more elements than the other (like case : [1, 2, 100, 3]) but It only means that you will have the first decision making power.\\n\\nTHAT\\'S HOW BOTH OF THE PLAYERS PLAY OPTIMALLY!!!!\\n",
      "voteCount": 139
    },
    {
      "name": "ashishguptacse",
      "year": 2020,
      "content": "**Can any one help me to understand this question ?**\\nHow can i calculate X and M here and how they are working here ?",
      "voteCount": 106
    },
    {
      "name": "dumb_me",
      "year": 2023,
      "content": "i tried dp and yes i am still trying its been 2 hrs \\uD83D\\uDE2D\\uD83D\\uDE2D\\uD83D\\uDE2D\\n",
      "voteCount": 81
    },
    {
      "name": "anu_2705",
      "year": 2020,
      "content": "The description of this question is very hard to understand . I get the point where initially M =1 and the Player 1 can take two moves either 1 or 2 according to 1 <= X <= 2M . But after the first move how is M being updated ? . What is X and how do we calculate it",
      "voteCount": 46
    },
    {
      "name": "Rubiya1090",
      "year": 2023,
      "content": "Input: piles = [1,2,3,4,5,100]\\nOutput: 104 \\nCan any one help me to understand how the output is 104?",
      "voteCount": 43
    }
  ]
}
