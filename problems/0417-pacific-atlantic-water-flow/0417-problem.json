{
  "category": "",
  "id": "417",
  "name": "Pacific Atlantic Water Flow",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/pacific-atlantic-water-flow/",
  "slug": "pacific-atlantic-water-flow",
  "isPaidOnly": false,
  "tags": [
    "Array",
    "Depth-First Search",
    "Breadth-First Search",
    "Matrix"
  ],
  "similar_questions": [],
  "questionId": "417",
  "questionFrontendId": "417",
  "title": "Pacific Atlantic Water Flow",
  "titleSlug": "pacific-atlantic-water-flow",
  "content": "<p>There is an <code>m x n</code> rectangular island that borders both the <strong>Pacific Ocean</strong> and <strong>Atlantic Ocean</strong>. The <strong>Pacific Ocean</strong> touches the island&#39;s left and top edges, and the <strong>Atlantic Ocean</strong> touches the island&#39;s right and bottom edges.</p>\n\n<p>The island is partitioned into a grid of square cells. You are given an <code>m x n</code> integer matrix <code>heights</code> where <code>heights[r][c]</code> represents the <strong>height above sea level</strong> of the cell at coordinate <code>(r, c)</code>.</p>\n\n<p>The island receives a lot of rain, and the rain water can flow to neighboring cells directly north, south, east, and west if the neighboring cell&#39;s height is <strong>less than or equal to</strong> the current cell&#39;s height. Water can flow from any cell adjacent to an ocean into the ocean.</p>\n\n<p>Return <em>a <strong>2D list</strong> of grid coordinates </em><code>result</code><em> where </em><code>result[i] = [r<sub>i</sub>, c<sub>i</sub>]</code><em> denotes that rain water can flow from cell </em><code>(r<sub>i</sub>, c<sub>i</sub>)</code><em> to <strong>both</strong> the Pacific and Atlantic oceans</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/06/08/waterflow-grid.jpg\" style=\"width: 400px; height: 400px;\" />\n<pre>\n<strong>Input:</strong> heights = [[1,2,2,3,5],[3,2,3,4,4],[2,4,5,3,1],[6,7,1,4,5],[5,1,1,2,4]]\n<strong>Output:</strong> [[0,4],[1,3],[1,4],[2,2],[3,0],[3,1],[4,0]]\n<strong>Explanation:</strong> The following cells can flow to the Pacific and Atlantic oceans, as shown below:\n[0,4]: [0,4] -&gt; Pacific Ocean \n&nbsp;      [0,4] -&gt; Atlantic Ocean\n[1,3]: [1,3] -&gt; [0,3] -&gt; Pacific Ocean \n&nbsp;      [1,3] -&gt; [1,4] -&gt; Atlantic Ocean\n[1,4]: [1,4] -&gt; [1,3] -&gt; [0,3] -&gt; Pacific Ocean \n&nbsp;      [1,4] -&gt; Atlantic Ocean\n[2,2]: [2,2] -&gt; [1,2] -&gt; [0,2] -&gt; Pacific Ocean \n&nbsp;      [2,2] -&gt; [2,3] -&gt; [2,4] -&gt; Atlantic Ocean\n[3,0]: [3,0] -&gt; Pacific Ocean \n&nbsp;      [3,0] -&gt; [4,0] -&gt; Atlantic Ocean\n[3,1]: [3,1] -&gt; [3,0] -&gt; Pacific Ocean \n&nbsp;      [3,1] -&gt; [4,1] -&gt; Atlantic Ocean\n[4,0]: [4,0] -&gt; Pacific Ocean \n       [4,0] -&gt; Atlantic Ocean\nNote that there are other possible paths for these cells to flow to the Pacific and Atlantic oceans.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> heights = [[1]]\n<strong>Output:</strong> [[0,0]]\n<strong>Explanation:</strong> The water can flow from the only cell to the Pacific and Atlantic oceans.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>m == heights.length</code></li>\n\t<li><code>n == heights[r].length</code></li>\n\t<li><code>1 &lt;= m, n &lt;= 200</code></li>\n\t<li><code>0 &lt;= heights[r][c] &lt;= 10<sup>5</sup></code></li>\n</ul>\n",
  "likes": 8026,
  "dislikes": 1648,
  "stats": {
    "totalAccepted": "638.8K",
    "totalSubmission": "1.1M",
    "totalAcceptedRaw": 638781,
    "totalSubmissionRaw": 1100810,
    "acRate": "58.0%"
  },
  "topicTags": [
    {
      "name": "Array",
      "slug": "array"
    },
    {
      "name": "Depth-First Search",
      "slug": "depth-first-search"
    },
    {
      "name": "Breadth-First Search",
      "slug": "breadth-first-search"
    },
    {
      "name": "Matrix",
      "slug": "matrix"
    }
  ],
  "metaData": {
    "name": "pacificAtlantic",
    "params": [
      {
        "name": "heights",
        "type": "integer[][]"
      }
    ],
    "return": {
      "type": "list<list<integer>>"
    }
  },
  "company_tag_stats": {
    "1": [
      {
        "taggedByAdmin": false,
        "name": "Amazon",
        "slug": "amazon",
        "timesEncountered": 12
      }
    ]
  },
  "discussion_posts": [
    {
      "name": "leweyM",
      "year": 2021,
      "content": "I was having trouble visualising the grid, especially for large data sets, so I made this tool to be able to play around with different inputs. \\n\\nhttps://editor.p5js.org/LeweyM/full/RpAxMlZL4\\n\\n![image](https://assets.leetcode.com/users/images/5569b199-fb17-4efe-985f-f634aa8eed26_1636967818.730621.png)\\n\\n![image](https://assets.leetcode.com/users/images/307719be-f6fe-4d35-bb52-809bcce6cb2a_1636967848.7110164.png)\\n",
      "voteCount": 558
    },
    {
      "name": "tan_kau",
      "year": 2020,
      "content": "How is this problem not downvoted for insufficient explanation of the problem? I spent 15 min trying to understand the problem statement!",
      "voteCount": 363
    },
    {
      "name": "rabeeh",
      "year": 2016,
      "content": "I did not understand what does this sentence mean \"Find the list of grid coordinates where water can flow to both the Pacific and Atlantic ocean.\", I wonder if you could help. thanks",
      "voteCount": 65
    },
    {
      "name": "sriyshnav",
      "year": 2022,
      "content": "Doing DFS on every cell may seem promising but the time complexity then would be O((N*M)^2) which might be slow for the given constraint. Why not start from the end? why not DFS from the Atlantic and pacific coasts. ",
      "voteCount": 56
    },
    {
      "name": "cloudlearning22",
      "year": 2022,
      "content": "Height at [2,1] is 6. Water cannot flow from 6 to Pacific Ocean beacuse both its top and left neighbour are greater than 6. Am I missing some scenario or test case is wrong?\\n![image](https://assets.leetcode.com/users/images/05d03e2d-fa94-45f9-aa8a-fc50f9e2cd3d_1653653864.9070594.png)\\n",
      "voteCount": 34
    },
    {
      "name": "Spothedog1",
      "year": 2019,
      "content": "Can someone explain the problem a little better? From the example in the description, how can we go from [3,1] -> [2,2] or from [1,3]->[2,2] if water can only flow in 4 directions? That movement is a diagnol. Also what is the goal, to get from any cell touching the Pacific to any cell touching the Atlantic in both directions?",
      "voteCount": 28
    },
    {
      "name": "Adoni1203",
      "year": 2018,
      "content": "Hi,\\n\\nDid anyone solve this problem with DP? I find my output tend to miss one or two correct points and I don't know why",
      "voteCount": 19
    },
    {
      "name": "sato",
      "year": 2023,
      "content": "Steps to solve \\n1. Create a set of co-ordinates from where we can reach pacific ocean. lets call it P_Set. \\n2. Create a set of co-ordinates from where we can reach atlantic ocean. lets call it A_Set\\n3. Our answer would be intersection of A_Set and P_Set\\n\\nCalculate P_Set\\n1. Add all the boundary co-ordiates to the set along the pacific ocean\\n2. Perform BFS to add to the set if curr height > parent height.",
      "voteCount": 18
    },
    {
      "name": "thewal",
      "year": 2021,
      "content": "cell[3,3] and [3,4] => up and down setifys but why is not in ans ?\\n\\n![image](https://assets.leetcode.com/users/images/ae33c3b6-05df-4e7f-b8ba-8eb080226d03_1616666667.1620362.png)\\n\\n",
      "voteCount": 16
    },
    {
      "name": "afsf11",
      "year": 2019,
      "content": "^ Topic? Can flow down to atlantic and up to pacific\\n",
      "voteCount": 12
    }
  ]
}
