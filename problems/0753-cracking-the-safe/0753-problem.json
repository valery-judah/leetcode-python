{
  "category": "",
  "id": "753",
  "name": "Cracking the Safe",
  "difficulty": "Hard",
  "leetcode_url": "https://leetcode.com/problems/cracking-the-safe/",
  "slug": "cracking-the-safe",
  "isPaidOnly": false,
  "tags": [
    "Depth-First Search",
    "Graph",
    "Eulerian Circuit"
  ],
  "similar_questions": [],
  "questionId": "754",
  "questionFrontendId": "753",
  "title": "Cracking the Safe",
  "titleSlug": "cracking-the-safe",
  "content": "<p>There is a safe protected by a password. The password is a sequence of <code>n</code> digits where each digit can be in the range <code>[0, k - 1]</code>.</p>\n\n<p>The safe has a peculiar way of checking the password. When you enter in a sequence, it checks the <strong>most recent </strong><code>n</code><strong> digits</strong> that were entered each time you type a digit.</p>\n\n<ul>\n\t<li>For example, the correct password is <code>&quot;345&quot;</code> and you enter in <code>&quot;012345&quot;</code>:\n\n\t<ul>\n\t\t<li>After typing <code>0</code>, the most recent <code>3</code> digits is <code>&quot;0&quot;</code>, which is incorrect.</li>\n\t\t<li>After typing <code>1</code>, the most recent <code>3</code> digits is <code>&quot;01&quot;</code>, which is incorrect.</li>\n\t\t<li>After typing <code>2</code>, the most recent <code>3</code> digits is <code>&quot;012&quot;</code>, which is incorrect.</li>\n\t\t<li>After typing <code>3</code>, the most recent <code>3</code> digits is <code>&quot;123&quot;</code>, which is incorrect.</li>\n\t\t<li>After typing <code>4</code>, the most recent <code>3</code> digits is <code>&quot;234&quot;</code>, which is incorrect.</li>\n\t\t<li>After typing <code>5</code>, the most recent <code>3</code> digits is <code>&quot;345&quot;</code>, which is correct and the safe unlocks.</li>\n\t</ul>\n\t</li>\n</ul>\n\n<p>Return <em>any string of <strong>minimum length</strong> that will unlock the safe <strong>at some point</strong> of entering it</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> n = 1, k = 2\n<strong>Output:</strong> &quot;10&quot;\n<strong>Explanation:</strong> The password is a single digit, so enter each digit. &quot;01&quot; would also unlock the safe.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> n = 2, k = 2\n<strong>Output:</strong> &quot;01100&quot;\n<strong>Explanation:</strong> For each possible password:\n- &quot;00&quot; is typed in starting from the 4<sup>th</sup> digit.\n- &quot;01&quot; is typed in starting from the 1<sup>st</sup> digit.\n- &quot;10&quot; is typed in starting from the 3<sup>rd</sup> digit.\n- &quot;11&quot; is typed in starting from the 2<sup>nd</sup> digit.\nThus &quot;01100&quot; will unlock the safe. &quot;10011&quot;, and &quot;11001&quot; would also unlock the safe.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n &lt;= 4</code></li>\n\t<li><code>1 &lt;= k &lt;= 10</code></li>\n\t<li><code>1 &lt;= k<sup>n</sup> &lt;= 4096</code></li>\n</ul>\n",
  "likes": 637,
  "dislikes": 124,
  "stats": {
    "totalAccepted": "67.3K",
    "totalSubmission": "115.9K",
    "totalAcceptedRaw": 67307,
    "totalSubmissionRaw": 115920,
    "acRate": "58.1%"
  },
  "topicTags": [
    {
      "name": "Depth-First Search",
      "slug": "depth-first-search"
    },
    {
      "name": "Graph",
      "slug": "graph"
    },
    {
      "name": "Eulerian Circuit",
      "slug": "eulerian-circuit"
    }
  ],
  "metaData": {
    "name": "crackSafe",
    "params": [
      {
        "name": "n",
        "type": "integer"
      },
      {
        "name": "k",
        "type": "integer"
      }
    ],
    "return": {
      "type": "string"
    }
  },
  "discussion_posts": [
    {
      "name": "sin1080",
      "year": 2019,
      "content": "How to think up that the problem can be solved by a Euler circuit AND then prove that the graph must have a Euler circuit mathmetically in front of the interviewer so you don\\'t finish coding and get a big hot reject because you didn\\'t prove your algorithm AND then code it bug-free with the optimal algorithm, all within somewhat 20~25 min, if you never seen this problem here on leetcode?\\nI wonder what on earth is the point of putting this in an interview.",
      "voteCount": 62
    },
    {
      "name": "hehe666",
      "year": 2018,
      "content": "My back tracing solution got accepted by Leetcode. But when I viewed the [solution page](https://leetcode.com/articles/cracking-the-safe/), I got frustrated because I do not know Euler path, Hierholzer's Algorithm, ... The company label is google, I got more frustrated. Should I know these algos to do the interview? confused.",
      "voteCount": 32
    },
    {
      "name": "zoellin1220",
      "year": 2024,
      "content": "I\\'m too dumb for this question.... not even able to understand what is asking...",
      "voteCount": 28
    },
    {
      "name": "Consistent_",
      "year": 2024,
      "content": "Fellow coders , it is what it is !! \\nJust another way of saying \"Thank you for your application ,  we have decided to move forward with other candidates \" ",
      "voteCount": 18
    },
    {
      "name": "MichaelZ",
      "year": 2018,
      "content": "No company would ask math problems except Google...",
      "voteCount": 15
    },
    {
      "name": "devangkshah2020",
      "year": 2021,
      "content": "I don\\'t understand posts claiming Euler\\'s cycle algorithm applies as a solution - I think it\\'s truly a Hamiltonian cycle algorithm which applies here - this is because Euler\\'s cycle algo tries to visit each edge exactly once (it may visit a vertex multiple times), whereas Hamiltonian cycle tries to visit each vertex exactly once (it may not visit some edges) - so if you model the graph as:\\n\\nFor n=3, k=2 (3 digits over binary):\\n\\nEach vertex is one of the 8 combinations: 000, 001, 010, 011, 101, 110, 111, 100\\n\\nAnd there are 2 edges from each vertex: e.g. 001 has 2 edges: one to 011, and one to 010.\\n\\nIn such a graph, an Euler\\'s cycle would in fact derive a string which is longer than necessary - since in trying to visit each edge exactly once, it\\'d need to visit some vertices multiple times, leading to a longer string.\\n\\nAn optimal string for n=3, k=2 is 10 chars long, whereas Euler path will yield longer strings.\\n\\nFor example, for n=3, k=2, an optimal string is 0001011100 -> it walks the vertices as follows:\\n\\n000 -> 001 -> 010 -> 101 -> 011 -> 111 -> 110 -> 100\\n\\nNow, this path above covers all 8 combinations - i.e. visits each of 8 vertices, but NOT all edges since there are edges from say 001->011, and 011->110, etc. (in fact 8 edges) which are NOT visited in the above path.\\n\\nSo ALL vertices are visited, but not all edges - so it\\'s a Hamiltonian cycle which works here, not Euler\\'s cycle.\\n\\nSo I don\\'t understand  posts which discuss Euler\\'s cycle as a solution... I may be missing something here so it\\'d be great if someone enlightens me, in that case...\\n\\nAlso, I came across a nice article on Hamiltonian Path which may be interesting since it seems highly relevant to this problem:\\nhttps://www.hackerearth.com/practice/algorithms/graphs/hamiltonian-path/tutorial/\\n",
      "voteCount": 12
    },
    {
      "name": "mlodyg",
      "year": 2024,
      "content": "It\\'s actually De Bruijn Sequence problem, you can check it up on wikipedia ",
      "voteCount": 11
    },
    {
      "name": "bagririshav01",
      "year": 2025,
      "content": "for those who didnt understood the question\n\nso we have n which is no of letters systems see for a pass and it only sees last n values\n\nso suppose we have 0...k-1 digits so how many possible combination can we create with these digits?\nsay k=2\nmean 2 digits -0 1\nand n=3 means 3 no of digits\nso combination- 000 001 010 011 100 101 110 111\n\nso we just need to find a string that have all those possible combination as substring\nso  (000 001 010 011 100 101 110 111) is that string without spaces ofc, as it has a password at some index \n\nbut it is not minimum length ,is it?\n\nso we just need min length\nso yeah i hope it explains you\n\nhappy coding\ndont forget to upvote this xd\nevery time u upvote i would come here",
      "voteCount": 9
    },
    {
      "name": "JParks1982",
      "year": 2024,
      "content": "An utterly *useless* problem. Fail to see the value of this kind of problem, especially during an interview.",
      "voteCount": 4
    },
    {
      "name": "hsSAz",
      "year": 2023,
      "content": "what is the problem about ? \\n ",
      "voteCount": 3
    }
  ]
}
