{
  "category": "",
  "id": "276",
  "name": "Paint Fence",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/paint-fence/",
  "slug": "paint-fence",
  "isPaidOnly": true,
  "tags": [
    "Dynamic Programming"
  ],
  "similar_questions": [
    {
      "title": "House Robber",
      "difficulty": "Medium",
      "slug": "house-robber"
    },
    {
      "title": "House Robber II",
      "difficulty": "Medium",
      "slug": "house-robber-ii"
    },
    {
      "title": "Paint House",
      "difficulty": "Medium",
      "slug": "paint-house"
    },
    {
      "title": "Paint House II",
      "difficulty": "Hard",
      "slug": "paint-house-ii"
    }
  ],
  "questionId": "276",
  "questionFrontendId": "276",
  "title": "Paint Fence",
  "titleSlug": "paint-fence",
  "content": "<p>You are painting a fence of <code>n</code> posts with <code>k</code> different colors. You must paint the posts following these rules:</p>\n\n<ul>\n\t<li>Every post must be painted <strong>exactly one</strong> color.</li>\n\t<li>There <strong>cannot</strong> be three or more <strong>consecutive</strong> posts with the same color.</li>\n</ul>\n\n<p>Given the two integers <code>n</code> and <code>k</code>, return <em>the <strong>number of ways</strong> you can paint the fence</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2021/02/28/paintfenceex1.png\" style=\"width: 507px; height: 313px;\" />\n<pre>\n<strong>Input:</strong> n = 3, k = 2\n<strong>Output:</strong> 6\n<strong>Explanation: </strong>All the possibilities are shown.\nNote that painting all the posts red or all the posts green is invalid because there cannot be three posts in a row with the same color.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> n = 1, k = 1\n<strong>Output:</strong> 1\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> n = 7, k = 2\n<strong>Output:</strong> 42\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= n &lt;= 50</code></li>\n\t<li><code>1 &lt;= k &lt;= 10<sup>5</sup></code></li>\n\t<li>The testcases are generated such that the answer is in the range <code>[0, 2<sup>31</sup> - 1]</code> for the given <code>n</code> and <code>k</code>.</li>\n</ul>\n",
  "likes": 1623,
  "dislikes": 396,
  "stats": {
    "totalAccepted": "125.2K",
    "totalSubmission": "261.2K",
    "totalAcceptedRaw": 125201,
    "totalSubmissionRaw": 261222,
    "acRate": "47.9%"
  },
  "topicTags": [
    {
      "name": "Dynamic Programming",
      "slug": "dynamic-programming"
    }
  ],
  "metaData": {
    "name": "numWays",
    "params": [
      {
        "name": "n",
        "type": "integer"
      },
      {
        "name": "k",
        "type": "integer"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "discussion_posts": [
    {
      "name": "arjiang",
      "year": 2015,
      "content": "There can be multiple 2 adjacent posts have same colors--a more clear way to put it is \"no 3 adjacent posts have the same color\"\\n\\nfor 4 post 2 color case (0 for black, 1 for red)  \\n0011 is a valid solution,  \\n0001 is not",
      "voteCount": 147
    },
    {
      "name": "bonchitoboys",
      "year": 2020,
      "content": "Let\\'s illustrate our actual solution as summation of two scenarios:\\n\\n**Scenario 1**\\nYou are currently at **i\\'th** fence and want to paint it with a color that is not present in the (i-1)th fence. How many ways can you do it satisfying all the conditions?\\nYes, you can color this i\\'th fence with **(k-1) * number of ways you can color (i-1)** fences.\\n![image](https://assets.leetcode.com/users/bonchitoboys/image_1584895281.png)\\n\\n**Scenario 2**\\nYou are currently at **i\\'th** fence and want to paint it with the same color that is present in the (i-1)th fence. How many ways can you do it satisfying all the conditions?\\nYes, you can color this i\\'th fence with **(k-1) * number of ways you can color (i-2)** fences.\\n![image](https://assets.leetcode.com/users/bonchitoboys/image_1584895651.png)\\n\\n**Final solution**\\n\\nJust merge scenario 1 & 2 altogether and you have:\\n\\n**f(n) = (f(n - 1) + f(n-2)) * (k-1)**\\nBase case: f(1) = k , f(2) = k * k\\n\\n",
      "voteCount": 64
    },
    {
      "name": "nitin135",
      "year": 2020,
      "content": "Leetcode please review your policy to mark a problem as \\'easy\\'. it\\'s in no way an easy problem in my opinion and probably many will agree with me.",
      "voteCount": 50
    },
    {
      "name": "nd2n8",
      "year": 2021,
      "content": "@Leetcode please mark this under medium. This is not easy!",
      "voteCount": 14
    },
    {
      "name": "SoftBullet",
      "year": 2020,
      "content": "#### \"You have to paint all the posts such that no more than two adjacent fence posts have the same color.\"\\n\\nAt first begining, I thought the two adjacent same situation were only supposed to happen at most once, \\nwhich means `AABB` is not allowed. \\n\\nAfter checked others code, it\\'s saying multiple times of `AA` is allowed, while `AAA` isn\\'t. So `AABB` here is correct.\\n\\nLOL\\nHow bad is my reading ability :(",
      "voteCount": 4
    },
    {
      "name": "FLAG2016",
      "year": 2015,
      "content": "It might be easier to think of it this way:\\n\\n**ns[i]** means the total number of color scheme of post **1** to **i** if post **i** does not have the same color as post **i-1**.\\n\\n**s[i]** means the total number of color scheme if post i has the same color as post **i-1**;\\n\\n    ns[i] = ( ns[i-1] + s[i-1] ) * (k-1)\\n\\nthis is because if we restrict that post **i** does not have the same color as post **i-1**, then we can choose whatever color for post **i**, except for the color painted on post **i-1** \\uff08definition of **ns[]**), so **(k-1)** choice for each previous color scheme.\\n\\n    s[i] = ns[i-1]\\n\\nthis is because if we restrict that post **i** has the same color as post **i-1**, then from the previous color scheme, we can only choose those of **ns[i-1]** (where post **i-1** does not have the same color as post **i-2**), otherwise there will be three continuous posts with the same color. For each such scheme we have only one color choice for post **i** since it has to be the color of post **i-1**.\\n\\nNote we obtain the same equations as in:\\n\\n[https://leetcode.com/discuss/56146/dynamic-programming-c-o-n-time-o-1-space-0ms][1]\\n\\nBut perhaps it is easier to think of it in this way. \\n\\n\\n  [1]: https://leetcode.com/discuss/56146/dynamic-programming-c-o-n-time-o-1-space-0ms",
      "voteCount": 4
    },
    {
      "name": "etanila",
      "year": 2024,
      "content": "This can be also solved with combinatorics. As I am much better at math than I am at programming, it was the only solution I could come up with before I read the editorial.\n\nSince they don't want us to post solutions in discussion, I won't, but you can try it yourself for fun (or see mine in the editorial comments). Count:\n- how many groups of 1 or 2 you can have altogether\n- how many permutations of such groups there exist\n- how many ways to color each group.",
      "voteCount": 3
    },
    {
      "name": "cygnuss",
      "year": 2015,
      "content": "Hi all:\\n\\nPerhaps I am just misunderstanding the problem, but for the example of n=4 fence posts and k=2 colors, the OJ indicates that the output should be 10. \\n\\nCan someone help me understand why this is the case? \\n\\nLets say the colors are red (R) and blue (B). The possible colorings are:\\n\\nRBRB BRBR\\n\\nRRBR RBBR RBRR\\n\\nBBRB BRRB BRBB\\n\\nWhere am I undercounting?",
      "voteCount": 3
    },
    {
      "name": "mlblount45",
      "year": 2015,
      "content": "I've seen various if not all of the posted solutions use `k*(k-1)` in the solution, where does this constant come from. How are you all extracting this out of the asked question.",
      "voteCount": 2
    },
    {
      "name": "albertsc1992",
      "year": 2021,
      "content": "i can only list 8,\\n1212\\n1211\\n1121\\n1221\\n2121\\n2122\\n2212\\n2112\\n\\nwhat an i missing here?",
      "voteCount": 2
    }
  ]
}
