{
  "category": "",
  "id": "487",
  "name": "Max Consecutive Ones II",
  "difficulty": "Medium",
  "leetcode_url": "https://leetcode.com/problems/max-consecutive-ones-ii/",
  "slug": "max-consecutive-ones-ii",
  "isPaidOnly": true,
  "tags": [
    "Array",
    "Dynamic Programming",
    "Sliding Window"
  ],
  "similar_questions": [
    {
      "title": "Max Consecutive Ones",
      "difficulty": "Easy",
      "slug": "max-consecutive-ones"
    },
    {
      "title": "Max Consecutive Ones III",
      "difficulty": "Medium",
      "slug": "max-consecutive-ones-iii"
    },
    {
      "title": "All Divisions With the Highest Score of a Binary Array",
      "difficulty": "Medium",
      "slug": "all-divisions-with-the-highest-score-of-a-binary-array"
    }
  ],
  "questionId": "487",
  "questionFrontendId": "487",
  "title": "Max Consecutive Ones II",
  "titleSlug": "max-consecutive-ones-ii",
  "content": "<p>Given a binary array <code>nums</code>, return <em>the maximum number of consecutive </em><code>1</code><em>&#39;s in the array if you can flip at most one</em> <code>0</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,0,1,1,0]\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> \n- If we flip the first zero, nums becomes [1,1,1,1,0] and we have 4 consecutive ones.\n- If we flip the second zero, nums becomes [1,0,1,1,1] and we have 3 consecutive ones.\nThe max number of consecutive ones is 4.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,0,1,1,0,1]\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> \n- If we flip the first zero, nums becomes [1,1,1,1,0,1] and we have 4 consecutive ones.\n- If we flip the second zero, nums becomes [1,0,1,1,1,1] and we have 4 consecutive ones.\nThe max number of consecutive ones is 4.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>nums[i]</code> is either <code>0</code> or <code>1</code>.</li>\n</ul>\n\n<p>&nbsp;</p>\n<p><strong>Follow up:</strong> What if the input numbers come in one by one as an infinite stream? In other words, you can&#39;t store all numbers coming from the stream as it&#39;s too large to hold in memory. Could you solve it efficiently?</p>\n",
  "likes": 1593,
  "dislikes": 27,
  "stats": {
    "totalAccepted": "175.6K",
    "totalSubmission": "339.7K",
    "totalAcceptedRaw": 175608,
    "totalSubmissionRaw": 339698,
    "acRate": "51.7%"
  },
  "topicTags": [
    {
      "name": "Array",
      "slug": "array"
    },
    {
      "name": "Dynamic Programming",
      "slug": "dynamic-programming"
    },
    {
      "name": "Sliding Window",
      "slug": "sliding-window"
    }
  ],
  "metaData": {
    "name": "findMaxConsecutiveOnes",
    "params": [
      {
        "name": "nums",
        "type": "integer[]"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "discussion_posts": [
    {
      "name": "takeiteasydragon",
      "year": 2024,
      "content": "PLEASE DON\\'T POST ANY SOLUTIONS IN THE DISCUSSION. THANKS.",
      "voteCount": 7
    },
    {
      "name": "bloodyblade",
      "year": 2024,
      "content": "Why does the problem have \"Dynamic Programming\" label? Such solution isn\\'t even presented in editorial tab",
      "voteCount": 5
    },
    {
      "name": "apelsinas",
      "year": 2024,
      "content": "I looked at the problem for few minutes yesterday evening after work and was like \"nah can\\'t do this right now\".\\nWoke up next morning with fresh head and the sliding window method just clicked for me so nicely I was amazed myself. Basically if you manage to visualize the algorithm in your head the only obstacle remaining is syntax.",
      "voteCount": 4
    },
    {
      "name": "kuznetsov-m",
      "year": 2022,
      "content": "Looks similar to [1493. Longest Subarray of 1\\'s After Deleting One Element](https://leetcode.com/problems/longest-subarray-of-1s-after-deleting-one-element/description/)",
      "voteCount": 3
    },
    {
      "name": "gonani",
      "year": 2025,
      "content": "testcases:\\n```\\n[1]\\n[0]\\n[1,1,1]\\n[0,0,1,0,0]\\n[0,0,0,0,0]\\n[1,0,0,1,1,1]\\n[1,0,1,0,1,0]\\n[0,0,1,1,0,0,1]\\n[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\\n```",
      "voteCount": 2
    },
    {
      "name": "ccolombe12",
      "year": 2025,
      "content": "Short and sweet\\n",
      "voteCount": 2
    },
    {
      "name": "WilmerKrisp",
      "year": 2020,
      "content": "![image](https://assets.leetcode.com/users/images/bba4aef1-ab65-4f06-9c34-0dbff0ad790e_1597769028.6330585.png)\\n\\n![image](https://assets.leetcode.com/users/images/f4caee6f-2702-4ec9-ab68-3453070f15ce_1597769032.9166074.png)\\n",
      "voteCount": 1
    },
    {
      "name": "bingo888",
      "year": 2018,
      "content": "Whenever 0 is encountered, you should be interested in only string of 1\\'s before and after it. So, add count of 1\\'s before 0 to count of 1\\'s after 0 (also add 1 to count for 0 being replaced). This gives current max and compare it with previous max.\\n\\n![image](https://s3-lc-upload.s3.amazonaws.com/users/dingo555/image_1527843457.png)\\n",
      "voteCount": 1
    },
    {
      "name": "matthewjinmp",
      "year": 2025,
      "content": "sliding window eats this for straight breakfast ",
      "voteCount": 0
    },
    {
      "name": "Sh1ka",
      "year": 2025,
      "content": "For follow up : https://leetcode.com/problems/max-consecutive-ones-ii/solutions/6502149/follow-up-using-prefix_sum-and-memoizati-w4qc/\\n\\nwe need to use prefix, maths and some memoization to keep memory constant for follow up",
      "voteCount": 0
    }
  ]
}
