{
  "category": "",
  "id": "85",
  "name": "Maximal Rectangle",
  "difficulty": "Hard",
  "leetcode_url": "https://leetcode.com/problems/maximal-rectangle/",
  "slug": "maximal-rectangle",
  "isPaidOnly": false,
  "tags": [
    "Array",
    "Dynamic Programming",
    "Stack",
    "Matrix",
    "Monotonic Stack"
  ],
  "similar_questions": [
    {
      "title": "Largest Rectangle in Histogram",
      "difficulty": "Hard",
      "slug": "largest-rectangle-in-histogram"
    },
    {
      "title": "Maximal Square",
      "difficulty": "Medium",
      "slug": "maximal-square"
    },
    {
      "title": "Find Sorted Submatrices With Maximum Element at Most K",
      "difficulty": "Hard",
      "slug": "find-sorted-submatrices-with-maximum-element-at-most-k"
    }
  ],
  "questionId": "85",
  "questionFrontendId": "85",
  "title": "Maximal Rectangle",
  "titleSlug": "maximal-rectangle",
  "content": "<p>Given a <code>rows x cols</code>&nbsp;binary <code>matrix</code> filled with <code>0</code>&#39;s and <code>1</code>&#39;s, find the largest rectangle containing only <code>1</code>&#39;s and return <em>its area</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n<img alt=\"\" src=\"https://assets.leetcode.com/uploads/2020/09/14/maximal.jpg\" style=\"width: 402px; height: 322px;\" />\n<pre>\n<strong>Input:</strong> matrix = [[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;,&quot;0&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;,&quot;1&quot;],[&quot;1&quot;,&quot;0&quot;,&quot;0&quot;,&quot;1&quot;,&quot;0&quot;]]\n<strong>Output:</strong> 6\n<strong>Explanation:</strong> The maximal rectangle is shown in the above picture.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> matrix = [[&quot;0&quot;]]\n<strong>Output:</strong> 0\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> matrix = [[&quot;1&quot;]]\n<strong>Output:</strong> 1\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>rows == matrix.length</code></li>\n\t<li><code>cols == matrix[i].length</code></li>\n\t<li><code>1 &lt;= row, cols &lt;= 200</code></li>\n\t<li><code>matrix[i][j]</code> is <code>&#39;0&#39;</code> or <code>&#39;1&#39;</code>.</li>\n</ul>\n",
  "likes": 11381,
  "dislikes": 209,
  "stats": {
    "totalAccepted": "637.7K",
    "totalSubmission": "1.2M",
    "totalAcceptedRaw": 637656,
    "totalSubmissionRaw": 1166309,
    "acRate": "54.7%"
  },
  "topicTags": [
    {
      "name": "Array",
      "slug": "array"
    },
    {
      "name": "Dynamic Programming",
      "slug": "dynamic-programming"
    },
    {
      "name": "Stack",
      "slug": "stack"
    },
    {
      "name": "Matrix",
      "slug": "matrix"
    },
    {
      "name": "Monotonic Stack",
      "slug": "monotonic-stack"
    }
  ],
  "metaData": {
    "name": "maximalRectangle",
    "params": [
      {
        "name": "matrix",
        "type": "character[][]"
      }
    ],
    "return": {
      "type": "integer"
    }
  },
  "company_tag_stats": {
    "1": [
      {
        "taggedByAdmin": false,
        "name": "Google",
        "slug": "google",
        "timesEncountered": 13
      }
    ]
  },
  "discussion_posts": [
    {
      "name": "deepakMelkani07",
      "year": 2024,
      "content": "Anyone else who is scared of 2-D matrices üôã‚Äç‚ôÇÔ∏è",
      "voteCount": 386
    },
    {
      "name": "samuelong168",
      "year": 2020,
      "content": "Not posting my solution here, but I just wanted to say what a genius question this is. \\n\\nIts one thing to be able to find the solution built on the solution of another problem (the largest histogram rectangle), its another level of creativity to come up with such a simple-looking question that uses that property (of having to use the other solution).\\n\\nKudos to whoever came up with this. Real brain teaser :D",
      "voteCount": 357
    },
    {
      "name": "eggplantkiller",
      "year": 2020,
      "content": "The best way to approach this solution is to break it down into smaller parts. Let\\'s start with the first array in the matrix: `[\"1\",\"0\",\"1\",\"0\",\"0\"]`\\n\\nWe can demonstrate this visually using a histogram:\\n![image](https://assets.leetcode.com/users/images/efb944be-cc09-417f-a04a-a60ed30ff28b_1592675600.0213525.png)\\n\\nAs we can see, we can\\'t represent a rectangle from this dataset.\\n\\nNow let\\'s go to the next array in the matrix: `[\"1\",\"0\",\"1\",\"1\",\"1\"]`\\n\\nFor each value in this array, we want to add it to the value of the previous array, *unless* we encounter a zero. Then we swap it with a zero. So our array becomes: `[\"2\",\"0\",\"2\",\"1\",\"1\"]`\\n\\nWhich is represented by the following histogram:\\n![image](https://assets.leetcode.com/users/images/6a5cf231-850f-471f-869f-d90ccb054074_1592675695.6978054.png)\\n\\nAs we can see, this represents a rectangle (outlined in red) with a max size of 3. Let\\'s keep iterating through the matrix, adding the values where we can and setting them to 0 otherwise. \\n\\nNext array:  `[\"1\",\"1\",\"1\",\"1\",\"1\"]`\\n\\nReflected against our previous array, we get: `[\"3\",\"1\",\"3\",\"2\",\"2\"]`\\n\\nAnd the associated histogram: \\n![image](https://assets.leetcode.com/users/images/4748208c-af4f-4183-bc3d-bf1d4beb4c06_1592675782.2834144.png)\\n\\nA 2x3 rectangle is represented here. Now our max size is at 6. \\n\\nLet\\'s move on to the last array in the matrix:  `[\"1\",\"0\",\"0\",\"1\",\"0\"]`\\n\\nReflcted against our previous array, we get: `[\"4\",\"0\",\"0\",\"3\",\"0\"]`\\n\\nAnd the histogram: \\n![image](https://assets.leetcode.com/users/images/3e7781ca-91a4-4d5e-9882-3867575564bf_1592675868.676209.png)\\n\\nSince a rectangle isn\\'t represented in the histogram, our max size remains 6.  \\n\\n----\\n\\nI\\'ll update this with a Javascript solution soon.",
      "voteCount": 211
    },
    {
      "name": "sawamura",
      "year": 2023,
      "content": "Am I the only one who thought the array was int[][] instead of char and struggled for half hr xD",
      "voteCount": 134
    },
    {
      "name": "vnikonov_63",
      "year": 2024,
      "content": "RIP STREAK",
      "voteCount": 131
    },
    {
      "name": "kirilchukvadim",
      "year": 2023,
      "content": "It is solved completely different way from [maximal-square](https://leetcode.com/problems/maximal-square/)  Problem.\nHighly recommend starting from [largest-rectangle-in-histogram](https://leetcode.com/problems/largest-rectangle-in-histogram/)",
      "voteCount": 82
    },
    {
      "name": "Satansoft",
      "year": 2024,
      "content": "Don\\'t be fools who think that they can solve any problem without any help, use as many ways to find your solution as it possible, only in this case you will grow.",
      "voteCount": 67
    },
    {
      "name": "ksvijayan06",
      "year": 2024,
      "content": "Leetcode fooled us today, this is not a problem of the day this is Problems of the day\\nto solve this problem we require a knowledge of this problem `largest rectangle in histogram`",
      "voteCount": 29
    },
    {
      "name": "yanggao",
      "year": 2015,
      "content": "I am confused about the requirement. If it is maximal rectangle that contains all the 1s, I could just return the size of the input if any 1 is detected anywhere...",
      "voteCount": 21
    },
    {
      "name": "douglasleer",
      "year": 2015,
      "content": "Since the input is a two dimensional char array, I wrote my test case as:\\n\\n[['1', '0', '0', '0'], ['0', '1', '1', '1'], ['0', '0', '1', '0'], ['0', '0', '0', '1']]\\n\\nI got the following results:\\n\"\\nRun Code Status: Runtime Error\\n\\nRun Code Result:\\n\\nYour input\\n\\n[['1', '0', '0', '0'], ['0', '1', '1', '1'], ['0', '0', '1', '0'], ['0', '0', '0', '1']]\\nYour answer\\n\\n\\nExpected answer\\n\\n\\nRuntime: N/A\\n\"\\n\\nThen, I changed the input to: [\\u201c1000\\u201d, \\u201c0111\\u201d, \\u201c0010\\u201d, \\u201c0010\\u201d]; this time everything is good. It did not take me too much time to realize that the input should be changed as so, because I encountered similar issues before for other problems.\\n\\nThough the first format for two dimensional char array is correct, I personally prefer the second format, because the second format requres less typing.\\n\\nMy concern is that, LeetCode should indicate somewhere that, the second format is what LeetCode accepts. Otherwise, people who think the first format is the only correct format will get confused, especially the people who first encountered this issue.",
      "voteCount": 18
    }
  ]
}
